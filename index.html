<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Image based tracking AR.js demo</title>
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/c-frame/aframe-extras@7.4.0/dist/aframe-extras.min.js"></script>
  </head>

  <body style="margin: 0px; overflow: hidden;">
    <a-scene embedded arjs real-world-meshing>
      <a-nft
      sheep
        type="nft"
        url="https://trielgit.github.io/stampRally/trackers/TrackingImage3"
        smooth="true"
        smoothCount="10"
        smoothTolerance=".01"
        smoothThreshold="5"
      >
        <!-- as a child of the a-nft entity, you can define the content to show. here's a GLTF model entity -->
      </a-nft>
      <a-nft
      penguin
        type="nft"
        url="https://trielgit.github.io/stampRally/trackers/img"
        smooth="true"
        smoothCount="10"
        smoothTolerance=".01"
        smoothThreshold="5"
      >
        <!-- as a child of the a-nft entity, you can define the content to show. here's a GLTF model entity -->
        <!--<a-entity gltf-model="penguin.glb" scale="5 5 5" position="50 50 0" animation-mixer look-at="[camera]"></a-entity>-->
      </a-nft>
      <a-entity
        id="penguin"
        gltf-model="penguin.glb"
        look-at="[camera]"
        scale="0.1 0.1 0.1"
        position="0 -0.5 -3"
        animation-mixer
      ></a-entity>
      <a-entity
        id="sheep"
        gltf-model="sheep.glb"
        look-at="[camera]"
        scale="0.1 0.1 0.1"
        position="0 -0.5 -3"
        animation-mixer
      ></a-entity>
      <!-- static camera that moves according to the device movemenents -->
      <a-entity camera></a-entity>
    </a-scene>
    <script>
      document.getElementById("penguin").setAttribute("visible", false);
      document.getElementById("sheep").setAttribute("visible", false);

      AFRAME.registerComponent("penguin", {
        init: function () {
          var marker = this.el;
          marker.addEventListener("markerFound", function () {
            document.getElementById("penguin").setAttribute("visible", true);
          });
        },
      });
      AFRAME.registerComponent("sheep", {
        init: function () {
          var marker = this.el;
          marker.addEventListener("markerFound", function () {
            document.getElementById("sheep").setAttribute("visible", true);
          });
        },
      });
    </script>
  </body>
</html>
